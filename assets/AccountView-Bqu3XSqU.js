import{d as y,c as i,u as F,n as D,a as e,f as _,t as x,o as s,_ as p,g as M,r as B,h as P,i as g,w as C,b as m,j as R,v as A,e as $,P as N,k as S,l as T,m as G,p as I,q as j,x as z,F as w,y as b,z as L,A as q,B as H,C as U,D as E}from"./index-DZWpx1H0.js";const O="/images/icons/exchange.svg",W={class:"icon"},Y={key:0,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none"},J={key:1,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#3b4252","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},K={key:2,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#3b4252","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Q={key:3,src:O,width:"32",height:"32"},X={class:"label"},Z=y({__name:"MenuButton",props:{label:{},icon:{},active:{type:Boolean}},setup(f){const r=F(),n=f,u=()=>r.push({name:n.label.toLowerCase()});return(a,l)=>(s(),i("button",{class:D(["portfolio-btn",{active:a.active}]),onClick:u},[e("span",W,[a.icon==="portfolio"?(s(),i("svg",Y,l[0]||(l[0]=[e("rect",{x:"6",y:"6",width:"14",height:"20",rx:"2",stroke:"#444","stroke-width":"2",fill:"#fff"},null,-1),e("rect",{x:"10",y:"12",width:"6",height:"6",rx:"1",stroke:"#444","stroke-width":"1.5",fill:"#fff"},null,-1),e("rect",{x:"8",y:"8",width:"14",height:"20",rx:"2",stroke:"#bbb","stroke-width":"1"},null,-1)]))):a.icon==="heart"?(s(),i("svg",J,l[1]||(l[1]=[e("path",{d:"M19.5 12.572l-7.5 7.428l-7.5-7.428a5 5 0 1 1 7.5-6.566a5 5 0 1 1 7.5 6.572"},null,-1)]))):a.icon==="gear"?(s(),i("svg",K,l[2]||(l[2]=[e("circle",{cx:"12",cy:"12",r:"3"},null,-1),e("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09A1.65 1.65 0 0 0 9 3.09V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"},null,-1)]))):_("",!0),a.icon==="exchange"?(s(),i("img",Q)):_("",!0)]),e("span",X,x(a.label),1)],2))}}),k=p(Z,[["__scopeId","data-v-b8091c95"]]),ee={},te={class:"centered-layout"};function se(f,r){return s(),i("div",te,[M(f.$slots,"default",{},void 0)])}const V=p(ee,[["render",se],["__scopeId","data-v-2d6fe895"]]),ae={class:"form-group"},ne=y({__name:"SettingsForm",setup(f){const r=B(P()),n=async()=>{T(r.value),await G()};return(u,a)=>(s(),g(V,null,{default:C(()=>[a[3]||(a[3]=e("h2",null,"Settings",-1)),e("form",{class:"friend-form",onSubmit:S(n,["prevent"])},[e("div",ae,[a[1]||(a[1]=e("label",{for:"friendId",class:"form-label"},'Friend ID (16 digits without "-")',-1)),R(e("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>r.value=l),required:"",type:"text",id:"friendId",class:"friend-id",placeholder:"0000000000000000",pattern:"\\d{16}",maxlength:"16"},null,512),[[A,r.value]])]),m(N,{type:"submit",role:"button"},{default:C(()=>a[2]||(a[2]=[$("Save")])),_:1})],32)]),_:1}))}}),ie=p(ne,[["__scopeId","data-v-a70de314"]]),re={class:"list"},oe={class:"tile-title"},le={class:"cards"},de=["src","alt"],ce={class:"cards"},ue=["src","alt"],ve={class:"tile-footer"},fe={class:"token-count"},he={key:1},_e=y({__name:"ProposalsView",setup(f){const r=B([]),n=I(()=>r.value.reduce((o,t)=>{const c=t.card1.rarityCode,v=t.friend_id,d=o.find(h=>h.rarity===c&&h.friendID===v);return d?(d.wantedCards.includes(t.card1)||d.wantedCards.push(t.card1),d.givenCards.includes(t.card2)||d.givenCards.push(t.card2)):o.push({rarity:c,friendID:v,wantedCards:[t.card1],givenCards:[t.card2]}),o},[])),u=o=>{const[t,c]=o.split("-");return q.find(v=>v.set===t&&v.number===parseInt(c))},a=o=>o.replace(/(\d{4})(\d{4})(\d{4})(\d{4})/,"$1-$2-$3-$4"),l=o=>{switch(o){case"R":return 120;case"RR":return 500;case"AR":return 400}return 0};return j(async()=>{const o=await z();r.value=o.map(t=>({...t,card1:u(t.card_wanted),card2:u(t.card_to_give)}))}),(o,t)=>(s(),g(V,{style:{padding:"2rem 0"}},{default:C(()=>[r.value.length>0?(s(),i(w,{key:0},[t[2]||(t[2]=e("h2",null,"Youâ€™ve got a match!",-1)),e("div",re,[(s(!0),i(w,null,b(n.value,(c,v)=>(s(),i("div",{class:"exchange-tile",key:v},[e("span",oe,"Friend ID : "+x(a(c.friendID)),1),e("div",le,[(s(!0),i(w,null,b(c.wantedCards,(d,h)=>(s(),i("div",{class:"card-container",key:h},[e("img",{src:`/images/cards/${d.imageName}`,alt:d.label.eng,class:"card-image"},null,8,de)]))),128))]),t[1]||(t[1]=e("div",{class:"exchange-icon"},null,-1)),e("div",ce,[(s(!0),i(w,null,b(c.givenCards,(d,h)=>(s(),i("div",{class:"card-container",key:h},[e("img",{src:`/images/cards/${d.imageName}`,alt:d.label.eng,class:"card-image"},null,8,ue)]))),128))]),e("div",ve,[t[0]||(t[0]=e("img",{src:L,alt:"Trade Token",class:"trade-token",height:"32"},null,-1)),e("span",fe,x(l(c.rarity)),1)])]))),128))])],64)):(s(),i("h2",he,t[3]||(t[3]=[$(" No matching proposals for now :( "),e("br",null,null,-1),$(" Please come back later! ")])))]),_:1}))}}),ge=p(_e,[["__scopeId","data-v-a1fff64a"]]),me={class:"aside"},pe=y({__name:"AccountView",setup(f){const r=H(),n=I(()=>r.name),u=I(()=>["wishlist","offers"].includes(n.value??""));return(a,l)=>(s(),i("main",null,[e("div",me,[e("nav",null,[m(k,{label:"Wishlist",icon:"heart",active:n.value==="wishlist"},null,8,["active"]),m(k,{label:"Offers",icon:"portfolio",active:n.value==="offers"},null,8,["active"]),m(k,{label:"Proposals",icon:"exchange",active:n.value==="proposals"},null,8,["active"]),m(k,{label:"Account",icon:"gear",active:n.value==="account"},null,8,["active"])]),u.value?(s(),g(U,{key:0,showGiving:n.value==="offers"},null,8,["showGiving"])):_("",!0)]),u.value?(s(),g(E,{key:0,step:n.value==="wishlist"?1:2},null,8,["step"])):_("",!0),n.value==="proposals"?(s(),g(ge,{key:1})):_("",!0),n.value==="account"?(s(),g(ie,{key:2})):_("",!0)]))}}),ke=p(pe,[["__scopeId","data-v-1171df97"]]);export{ke as default};
