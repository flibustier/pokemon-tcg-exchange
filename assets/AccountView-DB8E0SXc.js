import{d as b,c as r,u as D,n as M,a as e,f,t as y,o as s,_ as p,g as P,r as B,h as R,i as g,w as x,j as A,b as m,k as N,v as S,e as $,P as T,l as G,m as j,p as I,q as z,x as L,F as w,y as C,z as q,A as E,B as H,C as U,D as O,E as W}from"./index-DKWpOuS3.js";const Y="/images/icons/exchange.svg",J={class:"icon"},K={key:0,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none"},Q={key:1,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#3b4252","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X={key:2,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#3b4252","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Z={key:3,src:Y,width:"32",height:"32"},ee={class:"label"},te=b({__name:"MenuButton",props:{label:{},icon:{},active:{type:Boolean}},setup(h){const o=D(),n=h,v=()=>o.push({name:n.label.toLowerCase()});return(a,d)=>(s(),r("button",{class:M(["portfolio-btn",{active:a.active}]),onClick:v},[e("span",J,[a.icon==="portfolio"?(s(),r("svg",K,d[0]||(d[0]=[e("rect",{x:"6",y:"6",width:"14",height:"20",rx:"2",stroke:"#444","stroke-width":"2",fill:"#fff"},null,-1),e("rect",{x:"10",y:"12",width:"6",height:"6",rx:"1",stroke:"#444","stroke-width":"1.5",fill:"#fff"},null,-1),e("rect",{x:"8",y:"8",width:"14",height:"20",rx:"2",stroke:"#bbb","stroke-width":"1"},null,-1)]))):a.icon==="heart"?(s(),r("svg",Q,d[1]||(d[1]=[e("path",{d:"M19.5 12.572l-7.5 7.428l-7.5-7.428a5 5 0 1 1 7.5-6.566a5 5 0 1 1 7.5 6.572"},null,-1)]))):a.icon==="gear"?(s(),r("svg",X,d[2]||(d[2]=[e("circle",{cx:"12",cy:"12",r:"3"},null,-1),e("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09A1.65 1.65 0 0 0 9 3.09V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"},null,-1)]))):f("",!0),a.icon==="exchange"?(s(),r("img",Z)):f("",!0)]),e("span",ee,y(a.label),1)],2))}}),k=p(te,[["__scopeId","data-v-b8091c95"]]),se={},ae={class:"centered-layout"};function ne(h,o){return s(),r("div",ae,[P(h.$slots,"default",{},void 0)])}const V=p(se,[["render",ne],["__scopeId","data-v-2d6fe895"]]),ie={class:"form-group"},re=b({__name:"SettingsForm",setup(h){const o=B(R()),n=async()=>{G(o.value),await j()};return(v,a)=>(s(),g(V,null,{default:x(()=>[a[3]||(a[3]=e("h2",null,"Settings",-1)),e("form",{class:"friend-form",onSubmit:A(n,["prevent"])},[e("div",ie,[a[1]||(a[1]=e("label",{for:"friendId",class:"form-label"},'Friend ID (16 digits without "-")',-1)),N(e("input",{"onUpdate:modelValue":a[0]||(a[0]=d=>o.value=d),required:"",type:"text",id:"friendId",class:"friend-id",placeholder:"0000000000000000",pattern:"\\d{16}",maxlength:"16"},null,512),[[S,o.value]])]),m(T,{type:"submit",role:"button"},{default:x(()=>a[2]||(a[2]=[$("Save")])),_:1})],32)]),_:1}))}}),oe=p(re,[["__scopeId","data-v-a70de314"]]),le={class:"list"},de={class:"tile-title"},ce={class:"cards"},ue=["src","alt"],ve={class:"cards"},_e=["src","alt"],he={class:"card-count"},fe={class:"tile-footer"},ge={class:"token-count"},me={key:1},pe=b({__name:"ProposalsView",setup(h){const o=B([]),n=I(()=>o.value.reduce((i,t)=>{const u=t.card1.rarityCode,_=t.friend_id,l=i.find(c=>c.rarity===u&&c.friendID===_);return l?(l.wantedCards.every(c=>c.id!==t.card1.id)&&l.wantedCards.push(t.card1),l.givenCards.every(c=>c.id!==t.card2.id)&&l.givenCards.push(t.card2)):i.push({rarity:u,friendID:_,wantedCards:[t.card1],givenCards:[t.card2]}),i},[])),v=i=>q.value[i]||0,a=i=>{const[t,u]=i.split("-");return{id:i,...H.find(_=>_.set===t&&_.number===parseInt(u))}},d=i=>i.replace(/(\d{4})(\d{4})(\d{4})(\d{4})/,"$1-$2-$3-$4"),F=i=>{switch(i){case"R":return 120;case"RR":return 500;case"AR":return 400}return 0};return z(async()=>{const i=await L();o.value=i.map(t=>({...t,card1:a(t.card_wanted),card2:a(t.card_to_give)}))}),(i,t)=>(s(),g(V,{style:{padding:"2rem 0"}},{default:x(()=>[o.value.length>0?(s(),r(w,{key:0},[t[2]||(t[2]=e("h2",null,"Youâ€™ve got a match!",-1)),e("div",le,[(s(!0),r(w,null,C(n.value,(u,_)=>(s(),r("div",{class:"exchange-tile",key:_},[e("span",de,"Friend ID : "+y(d(u.friendID)),1),e("div",ce,[(s(!0),r(w,null,C(u.wantedCards,(l,c)=>(s(),r("div",{class:"card-container",key:c},[e("img",{src:`/images/cards/${l.imageName}`,alt:l.label.eng,class:"card-image"},null,8,ue)]))),128))]),t[1]||(t[1]=e("div",{class:"exchange-icon"},null,-1)),e("div",ve,[(s(!0),r(w,null,C(u.givenCards,(l,c)=>(s(),r("div",{class:"card-container",key:c},[e("img",{src:`/images/cards/${l.imageName}`,alt:l.label.eng,class:"card-image"},null,8,_e),e("span",he,y(v(l.id)),1)]))),128))]),e("div",fe,[t[0]||(t[0]=e("img",{src:E,alt:"Trade Token",class:"trade-token",height:"32"},null,-1)),e("span",ge,y(F(u.rarity)),1)])]))),128))])],64)):(s(),r("h2",me,t[3]||(t[3]=[$(" No matching proposals for now :( "),e("br",null,null,-1),$(" Please come back later! ")])))]),_:1}))}}),we=p(pe,[["__scopeId","data-v-a91eff6a"]]),ke={class:"aside"},ye={class:"content"},be=b({__name:"AccountView",setup(h){const o=U(),n=I(()=>o.name),v=I(()=>["wishlist","offers"].includes(n.value??""));return(a,d)=>(s(),r("main",null,[e("div",ke,[e("nav",null,[m(k,{label:"Wishlist",icon:"heart",active:n.value==="wishlist"},null,8,["active"]),m(k,{label:"Offers",icon:"portfolio",active:n.value==="offers"},null,8,["active"]),m(k,{label:"Proposals",icon:"exchange",active:n.value==="proposals"},null,8,["active"]),m(k,{label:"Account",icon:"gear",active:n.value==="account"},null,8,["active"])]),v.value?(s(),g(O,{key:0,id:"prices",showGiving:n.value==="offers"},null,8,["showGiving"])):f("",!0)]),e("div",ye,[v.value?(s(),g(W,{key:0,step:n.value==="wishlist"?1:2},null,8,["step"])):f("",!0),n.value==="proposals"?(s(),g(we,{key:1})):f("",!0),n.value==="account"?(s(),g(oe,{key:2})):f("",!0)])]))}}),xe=p(be,[["__scopeId","data-v-fc6a6a0a"]]);export{xe as default};
